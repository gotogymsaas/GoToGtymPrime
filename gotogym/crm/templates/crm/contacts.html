{% extends 'base.html' %}
{% block title %}Contactos HubSpot{% endblock %}
{% block content %}
<div class="max-w-3xl mx-auto mt-10 bg-white dark:bg-[#232526] rounded-xl shadow-lg p-8">
  <h2 class="text-2xl font-bold mb-6 text-center text-[#093f62] dark:text-white">Contactos de HubSpot</h2>
  {% if status == 200 %}
    {% if contacts %}
      <div class="overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
          <thead class="bg-gray-50 dark:bg-[#232526]">
            <tr>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-200 uppercase tracking-wider">Nombre</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-200 uppercase tracking-wider">Apellido</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-200 uppercase tracking-wider">Email</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-200 uppercase tracking-wider">Tel√©fono</th>
            </tr>
          </thead>
          <tbody class="bg-white dark:bg-[#232526] divide-y divide-gray-200 dark:divide-gray-700">
            {% for c in contacts %}
              <tr>
                <td class="px-6 py-4 whitespace-nowrap">{{ c.properties.firstname|default:'-' }}</td>
                <td class="px-6 py-4 whitespace-nowrap">{{ c.properties.lastname|default:'-' }}</td>
                <td class="px-6 py-4 whitespace-nowrap">{{ c.properties.email|default:'-' }}</td>
                <td class="px-6 py-4 whitespace-nowrap">{{ c.properties.phone|default:'-' }}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    {% else %}
      <p class="text-center text-gray-500 dark:text-gray-300">No hay contactos disponibles.</p>
    {% endif %}
  {% else %}
    <p class="text-center text-red-600 dark:text-red-400">Error al conectar con HubSpot ({{ status }}).</p>
  {% endif %}
</div>
{% endblock %}
